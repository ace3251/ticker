<head>
  <title>Ticker</title>
</head>

<body>
  <div id="outer">
    {{> dashboard}}
  </div>
</body>

<template name="dashboard">
    {{#if mode_users}}
      {{> user_list}}
    {{/if}}

    {{#if mode_stocks}}
      {{> stock_list}}
      {{> stock_control}}
    {{/if}}
</template>

<template name="user_list">
  <h1>{{title}}</h1>
  <table id="portfolio">
    {{#each users}}
      {{> user}}
    {{/each}}
  </table>
</template>

<template name="user">
  <tr class="stock">
    <td><span class="symbol">{{name}}</span></td>
    <td class="numerical"><span class="price">{{toDollars currentValue}}</span></td>
    <td class="numerical"><span class="delta {{updown}} numerical secondary">{{toGain deltaAbsolute}}</span></td>
    <td class="numerical"><span class="deltaPercent {{updown}} numerical secondary">({{toPercent deltaRelative}})</span></td>
  </tr>
</template>

<template name="stock_list">
  <div class="stock_list">
    <h1>{{title}}</h1>
    <table id="portfolio">
    {{#each stocks}}
      {{> stock}}
    {{/each}}
    </table>
  </div>
</template>

<template name="stock">
  <tr class="stock">
    <td><span class="symbol">{{symbol}}</span></td>
    <td class="numerical"><span class="price">{{toDollars price}}</span></td>
    <td class="numerical"><span class="delta {{updown}} numerical secondary">{{toGain deltaAbsolute}}</span></td>
    <td class="numerical"><span class="deltaPercent {{updown}} numerical secondary">({{toPercent deltaRelative}})</span></td>
  </div>
</template>

<template name="stock_control">
  {{#if adding_stock}}
  <div class="new_stock">
    <input type="text" class="symbol" value="POOP" />
    <input type="text" class="shares" value="1" />
    <input type="text" class="cost_basis" value="0.0" />
    <input type="button" class="submit" value="Submit" />
  </div>
  {{else}}
    <input type="button" class="add_stock" value="Add Stock" />
  {{/if}}
</template>