<head>
  <title>Ticker</title>
</head>

<body>
  <div id="outer">
    {{> dashboard}}
  </div>
</body>

<template name="dashboard">
    {{#if mode_users}}
      {{> user_list}}
    {{/if}}

    {{#if mode_stocks}}
      {{> stock_list}}
      {{> stock_control}}
    {{/if}}
</template>

<template name="user_list">
  <h1>{{title}}</h1>
  <table id="portfolio">
    {{#each users}}
      {{> user}}
    {{/each}}
  </table>
</template>

<template name="user">
  <tr class="dashboard clickable">
    <td><span class="symbol">{{name}}</span></td>
    <td class="numerical"><span class="price">{{toDollars currentValue}}</span></td>
    <td class="numerical"><span class="delta {{updown}} secondary">{{toGain deltaAbsolute}}</span></td>
    <td class="numerical"><span class="{{updown}} secondary">({{toPercent deltaRelative}})</span></td>
  </tr>
</template>

<template name="stock_list">
  <div class="stock_list">
    <a href="/">Home</a>
    <h1>{{title}}</h1>
    <table id="portfolio">
    {{#each stocks}}
      {{> stock}}
    {{/each}}
    </table>
  </div>
</template>

<template name="stock">
  <tr class="dashboard">
    <td><span class="symbol">{{symbol}}</span></td>
    <td class="numerical"><span class="price">{{toDollars price}}</span></td>
    <td class="numerical"><span class="delta {{updown}} secondary">{{toGain deltaAbsolute}}</span></td>
    <td class="numerical"><span class="{{updown}} secondary">({{toPercent deltaRelative}})</span></td>
    <td><span class="owners tertiary">{{ownersString}}</span></td>
  </tr>
</template>

<template name="stock_control">
  
  <div id="new_stock" style="display:none;">
    <input type="text" class="symbol" placeholder="Symbol (e.g., MSFT)" autofocus />
    <input type="text" class="shares" placeholder="# shares" />
    <input type="text" class="cost_basis" placeholder="cost basis" />
    <input type="button" class="submit" value="Buy!" />
  </div>

  <input type="button" id="add_stock" value="Add Stock" />

</template>